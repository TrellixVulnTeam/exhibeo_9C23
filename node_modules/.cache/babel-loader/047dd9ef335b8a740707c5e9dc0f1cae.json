{"ast":null,"code":"var _jsxFileName = \"/Users/charlie/code/ex/exhiibeo/src/components/sections/Account.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport Masonry from 'masonry-layout';\nimport imagesLoaded from 'imagesloaded';\nimport infgif from './img/infloading.gif';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport { DAppClient, TezosOperationType } from \"@airgap/beacon-sdk\";\nimport MiddleEllipsis from \"react-middle-ellipsis\";\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Tezos = new TezosToolkit(\"https://mainnet-tezos.giganode.io\");\nconst wallet = new DAppClient({\n  name: \"Exhibeo\"\n});\nvar objktArray = [];\nTezos.setWalletProvider(wallet);\nconst propTypes = {\n  navPosition: PropTypes.string,\n  hideNav: PropTypes.bool,\n  hideSignin: PropTypes.bool,\n  bottomOuterDivider: PropTypes.bool,\n  bottomDivider: PropTypes.bool\n};\nconst defaultProps = {\n  navPosition: '',\n  hideNav: false,\n  hideSignin: false,\n  bottomOuterDivider: false,\n  bottomDivider: false\n};\n\nconst Hero = ({\n  className,\n  topOuterDivider,\n  bottomOuterDivider,\n  hideNav,\n  hideSignin,\n  topDivider,\n  bottomDivider,\n  hasBgColor,\n  invertColor,\n  ...props\n}) => {\n  _s();\n\n  const [loading, setloading] = useState(false);\n  const [notloggedin, setnotloggedin] = useState(true);\n  const query = `\n  query collectorGallery($address: String!) {\n    hic_et_nunc_token_holder(where: {holder_id: {_eq: $address}, quantity: {_gt: \"0\"}, token: {supply: {_gt: \"0\"}}}, order_by: {id: desc}) {\n      token {\n        id\n        artifact_uri\n        display_uri\n        thumbnail_uri\n        timestamp\n        mime\n        title\n        description\n        supply\n        token_tags {\n          tag {\n            tag\n          }\n        }\n        creator {\n          address\n        }\n        swaps(where: {status: {_eq: \"0\"}}, order_by: {price: asc}) {\n          amount\n          amount_left\n          creator_id\n          price\n        }\n      }\n    }\n  }\n  `;\n\n  async function fetchGraphQL(operationsDoc, operationName, variables) {\n    const result = await fetch(\"https://api.hicdex.com/v1/graphql\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        query: operationsDoc,\n        variables: variables,\n        operationName: operationName\n      })\n    });\n    return await result.json();\n  }\n\n  var objktidArray = [];\n  var linkarray = [];\n\n  async function doFetch(wallet) {\n    setloading(true);\n    const {\n      errors,\n      data\n    } = await fetchGraphQL(query, \"collectorGallery\", {\n      \"address\": wallet\n    });\n\n    if (errors) {\n      console.error(errors);\n    }\n\n    const result = data.hic_et_nunc_token_holder;\n\n    for (var i = 0; i < result.length; i++) {\n      var link = result[i].token.display_uri.split('/');\n      var linkstring = \"https://ipfs.io/ipfs/\" + link[2];\n      linkarray[i] = linkstring;\n      var objkt = result[i].token.id;\n      objktidArray[i] = objkt;\n    }\n\n    await showImages(linkarray);\n    var grid = document.querySelector('.grid2');\n    var imgLoad = imagesLoaded(grid);\n    setloading(false);\n    changeVisibility();\n    imgLoad.on('progress', function (instance, image) {\n      //   var result = image.isLoaded ? 'loaded' : 'broken';\n      //   console.log( 'image is ' + result + ' for ' + image.img.src );\n      loadmason();\n    });\n  }\n\n  function loadmason() {\n    var grid = document.querySelector('.grid2');\n    new Masonry(grid, {\n      itemSelector: '.grid-item2',\n      percentPosition: true\n    });\n  }\n\n  function showImages(imgArray) {\n    for (var i = 0; i < imgArray.length; i++) {\n      var div = document.createElement(\"div\");\n      div.className = \"grid-item2\";\n      div.id = objktidArray[i];\n\n      div.onclick = function (opt) {\n        return function () {\n          imageClicked(opt);\n        };\n      }(div.id);\n\n      div.style = \"width: 33%;\";\n      document.getElementById(\"imageGallery2\").appendChild(div);\n      var img = new Image();\n      img.src = imgArray[i];\n      img.style = \"width: 100%;\";\n      img.className = \"images\";\n      var idd = objktidArray[i];\n      document.getElementById(idd).appendChild(img);\n    }\n  } // Styling a regular HTML input\n\n\n  const StyledInput = styled.input`\n    border-top-style: hidden;\n    border-right-style: hidden;\n    border-left-style: hidden;\n    border-bottom-style: groove;\n    width: 25vw;\n    text-align: center;\n    margin: 0px auto;\n    margin-top; 30px\n    margin-top; 30px\n    display: block;\n    background-color: #000000;\n    color: white;\n\n`;\n  const Styledp = styled.p`\nborder-top-style: hidden;\nborder-right-style: hidden;\nborder-left-style: hidden;\nborder-bottom-style: hidden;\nwidth: 70vw;\ntext-align: center;\nmargin: 0px auto;\nmargin-top; 30px\nmargin-top; 30px\ndisplay: block;\nbackground-color: #000000;\ncolor: white;\nfont-size: medium;\n\n`;\n  const Styledb = styled.button`\nborder-top-style: groove;\nborder-right-style: groove;\nborder-left-style: groove;\nborder-bottom-style: groove;\nwidth: 15vw;\ntext-align: center;\nmargin: 0px auto;\nmargin-top; 30px\nmargin-top; 30px\ndisplay: block;\nbackground-color: #000000;\ncolor: white;\n\n`;\n\n  function changeVisibility() {\n    const vis = document.getElementById(\"imageGallery2\").style.visibility;\n\n    if (vis === 'hidden') {\n      document.getElementById(\"imageGallery2\").style.visibility = 'visible';\n    }\n  }\n\n  useEffect(() => {\n    //AKA onload\n    const urllink = window.location.href.toString();\n    const arrlink = urllink.split(\"?\");\n    const username = arrlink[1];\n\n    if (!username) {\n      setnotloggedin(true);\n      checkWalletConnection();\n    }\n  }, []);\n  const [walletModalActive, setWalletmodalactive] = useState(false);\n\n  const openModal = e => {\n    e.preventDefault();\n    setWalletmodalactive(true);\n  };\n\n  const closeModal = e => {\n    e.preventDefault();\n    setWalletmodalactive(false);\n  };\n\n  const [walletAddress, setWalletAddress] = useState(\"\");\n\n  async function checkWalletConnection() {\n    const activeAccount = await wallet.getActiveAccount();\n\n    if (activeAccount) {\n      setWalletAddress(activeAccount.address);\n      setnotloggedin(false);\n      doFetch(activeAccount.address);\n    }\n  }\n\n  async function connectWallet() {\n    const activeAccount = await wallet.getActiveAccount();\n\n    if (activeAccount) {\n      openModal();\n    } else {\n      try {\n        //console.log(\"Requesting permissions...\");\n        const permissions = await wallet.requestPermissions();\n        console.log(\"Got permissions:\", permissions.address); //wallet connected\n\n        setWalletAddress(permissions.address);\n        doFetch(permissions.address);\n        window.location.reload(false);\n      } catch (error) {\n        console.log(\"Got error:\", error);\n      }\n    }\n  }\n\n  async function disconnectWallet() {\n    await wallet.clearActiveAccount();\n    window.location.reload(false);\n  }\n\n  function addToImageArray(id) {\n    objktArray.push(id);\n  }\n\n  function removeFromImageArray(id) {\n    var imgindex = objktArray.indexOf(id);\n    objktArray.splice(imgindex, 1);\n  }\n\n  function showInstructions() {\n    if (document.getElementById(\"instructions\").style.display === \"block\") {\n      document.getElementById(\"instructions\").style.display = \"none\";\n    } else {\n      document.getElementById(\"instructions\").style.display = \"block\";\n    }\n  }\n\n  function imageClicked(id) {\n    const clickedImage = document.getElementById(id);\n\n    if (clickedImage.style.borderStyle === \"dashed\") {\n      clickedImage.style.borderStyle = \"none\";\n      removeFromImageArray(id);\n    } else {\n      clickedImage.style.border = \"5px\";\n      clickedImage.style.borderColor = \"white\";\n      clickedImage.style.borderStyle = \"dashed\";\n      addToImageArray(id);\n    }\n  }\n\n  async function usernameTaken(username) {\n    const axios = require('axios');\n\n    var taken = false;\n    await axios.get('https://api.better-call.dev/v1/contract/mainnet/KT1V69m3Q6yAwQfo1PgFDVUeWgmtu52J2JEx/storage', {}).then(res => {\n      for (var i in res.data[0].children) {\n        if (res.data[0].children[i].children[1].value === username) {\n          if (res.data[0].children[i].name === walletAddress) {\n            console.log(\"username belongs to owner\");\n            taken = false;\n          } else {\n            console.log(\"username doesnt belong to owner\");\n            taken = true;\n          }\n        }\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n    return taken;\n  }\n\n  async function saveData() {\n    var imga = objktArray.toString();\n    const EXHIBEO_CONTRACT = \"KT1V69m3Q6yAwQfo1PgFDVUeWgmtu52J2JEx\";\n    const username = document.getElementById(\"username\").value;\n\n    if (username === \"\") {\n      document.getElementById(\"warningtext\").innerHTML = \"Username cannot be empty\";\n    } else if (username.includes(\" \")) {\n      document.getElementById(\"warningtext\").innerHTML = \"Username cannot contain spaces\";\n    } else if (imga === \"\") {\n      document.getElementById(\"warningtext\").innerHTML = \"You cannot choose 0 images, select some images from below to display on your profile, then click save.\";\n    } else {\n      var userTaken = await usernameTaken(username);\n      console.log(userTaken);\n\n      if (userTaken) {\n        document.getElementById(\"warningtext\").innerHTML = \"Username is already taken, if you believe this username already belongs to you, make sure you are using the same wallet as when you first created that username.\";\n      } else if (!userTaken) {\n        try {\n          const result = await wallet.requestOperation({\n            operationDetails: [{\n              kind: TezosOperationType.TRANSACTION,\n              destination: EXHIBEO_CONTRACT,\n              amount: \"0\",\n              parameters: {\n                entrypoint: \"default\",\n                value: {\n                  prim: \"Pair\",\n                  \"args\": [{\n                    string: imga\n                  }, {\n                    string: username\n                  }]\n                }\n              }\n            }]\n          });\n          console.log(result); //show link\n\n          var linka = \"https://exhibeo.xyz/?\" + username; //document.getElementById(\"linkforprofile\").setAttribute('href',linka) \n\n          var adiv = document.createElement(\"a\");\n          adiv.href = linka;\n          adiv.style = \"text-decoration: underline; font-size: xxx-large;\";\n          adiv.innerHTML = \"Link to your profile\";\n          document.getElementById(\"linkforprofile\").appendChild(adiv);\n          var a2div = document.createElement(\"a\");\n          a2div.style = \"font-size: x-large;\";\n          a2div.innerHTML = \"Give it ~30 seconds for blockchain confirmation\";\n          document.getElementById(\"confirmtext\").appendChild(a2div);\n        } catch (error) {\n          console.log(`The contract call failed and the following error was returned:`);\n          console.log(error);\n        }\n      }\n    }\n  } //TODO, after submission wait until blockchain inclusion, then forward to profile\n  //Do something about images not loading\n\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [!walletModalActive && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classNames(bottomDivider && 'has-bottom-divider'),\n        children: !hideNav && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: !hideSignin && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                paddingTop: \"15px\",\n                paddingBottom: \"15px\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                display: \"flex\"\n              },\n              children: [!walletAddress && /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  display: 'inline-flex',\n                  color: 'white',\n                  backgroundColor: '#000000',\n                  fontWeight: 'light',\n                  border: 'solid',\n                  borderColor: 'white',\n                  borderTop: 'none',\n                  borderLeft: \"none\",\n                  borderRight: 'none',\n                  borderWidth: '2px',\n                  float: 'right'\n                },\n                onClick: connectWallet,\n                children: \"Sign in with wallet to customize\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 40\n              }, this), walletAddress && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: 'inline-flex',\n                  color: 'white',\n                  backgroundColor: '#000000',\n                  fontWeight: 'light',\n                  border: 'solid',\n                  borderColor: 'white',\n                  borderTop: 'none',\n                  borderLeft: \"none\",\n                  borderRight: 'none',\n                  borderWidth: '2px',\n                  float: 'right'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    maxWidth: '200px',\n                    fontWeight: 'light',\n                    display: 'inline-block',\n                    color: 'white',\n                    backgroundColor: '#000000',\n                    fontWeight: 'light',\n                    border: 'solid',\n                    borderColor: 'white',\n                    borderTop: 'none',\n                    borderLeft: \"none\",\n                    borderRight: 'none',\n                    borderWidth: '2px',\n                    float: 'right'\n                  },\n                  className: \"button button-primary button-wide-mobile button-sm\",\n                  onClick: openModal,\n                  children: /*#__PURE__*/_jsxDEV(MiddleEllipsis, {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: walletAddress\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 663\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 647\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 280\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 30\n    }, this), walletModalActive && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'white',\n        fontWeight: 'bold',\n        backgroundColor: '#000000',\n        paddingTop: 20,\n        paddingBottom: 12,\n        paddingLeft: 24\n      },\n      onClick: closeModal,\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: 4,\n          paddingBottom: 4,\n          textOverflow: 'ellipsis',\n          overflow: 'hidden',\n          whiteSpace: 'nowrap'\n        },\n        children: [\"Address: \", walletAddress]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: 4,\n          paddingBottom: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            display: 'inline-block',\n            color: 'white',\n            backgroundColor: '#000000',\n            fontWeight: 'light',\n            border: 'solid',\n            borderColor: 'white',\n            borderTop: 'none',\n            borderLeft: \"none\",\n            borderRight: 'none',\n            borderWidth: '2px'\n          },\n          className: \"button button-primary button-wide-mobile button-sm\",\n          onClick: disconnectWallet,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 80\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 29\n    }, this), walletAddress && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: \"15px\",\n        paddingBottom: \"15px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        display: \"flex\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Styledp, {\n          onClick: showInstructions,\n          style: {\n            padding: \"5px\"\n          },\n          children: [\"Enter a username and select the images you wish to display. For more detailed instructions \", /*#__PURE__*/_jsxDEV(\"u\", {\n            children: \"click here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 165\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"instructions\",\n          style: {\n            display: \"none\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: \"STEPS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"big\", {\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 49\n            }, this), \". Sign in with your wallet that contains the NFTs you wish to put in your exhibit\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"big\", {\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 49\n            }, this), \". Enter a username. This will be turned into the link for your account, no spaces allowed\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"big\", {\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 49\n            }, this), \". Select images you want to display on your profile. The images will be displayed in the order you select them.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"big\", {\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 49\n            }, this), \". Click save, if the username is taken an error should appear.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: \"Due to the data being stored on a smart contract, the saving will take place as a transaction with 0 fees (besides gas + storage if needed).\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingTop: \"20px\",\n            paddingBottom: \"20px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(StyledInput, {\n            autoComplete: \"off\",\n            id: \"username\",\n            placeholder: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"warningtext\",\n          style: {\n            padding: \"10px\",\n            color: \"red\",\n            fontSize: \"xl\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(Styledb, {\n            onClick: saveData,\n            style: {\n              padding: \"10px\",\n              minWidth: \"100px\"\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"linkforprofile\",\n      style: {\n        padding: \"10px\",\n        textAlign: \"center\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"confirmtext\",\n      style: {\n        padding: \"10px\",\n        textAlign: \"center\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        display: \"flex\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: infgif,\n        alt: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 101\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 19\n    }, this), notloggedin && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        display: \"flex\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: infgif,\n        alt: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 105\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"imageGallery2\",\n      style: {\n        visibility: \"hidden\"\n      },\n      className: \"grid2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-sizer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 413,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Hero, \"KQskZ5IOLVgJ6ycjl3BbdnpUwIk=\");\n\n_c = Hero;\nHero.propTypes = propTypes;\nHero.defaultProps = defaultProps;\nexport default Hero;\n\nvar _c;\n\n$RefreshReg$(_c, \"Hero\");","map":{"version":3,"sources":["/Users/charlie/code/ex/exhiibeo/src/components/sections/Account.js"],"names":["React","useState","useEffect","useRef","Masonry","imagesLoaded","infgif","classNames","PropTypes","TezosToolkit","DAppClient","TezosOperationType","MiddleEllipsis","styled","Tezos","wallet","name","objktArray","setWalletProvider","propTypes","navPosition","string","hideNav","bool","hideSignin","bottomOuterDivider","bottomDivider","defaultProps","Hero","className","topOuterDivider","topDivider","hasBgColor","invertColor","props","loading","setloading","notloggedin","setnotloggedin","query","fetchGraphQL","operationsDoc","operationName","variables","result","fetch","method","body","JSON","stringify","json","objktidArray","linkarray","doFetch","errors","data","console","error","hic_et_nunc_token_holder","i","length","link","token","display_uri","split","linkstring","objkt","id","showImages","grid","document","querySelector","imgLoad","changeVisibility","on","instance","image","loadmason","itemSelector","percentPosition","imgArray","div","createElement","onclick","opt","imageClicked","style","getElementById","appendChild","img","Image","src","idd","StyledInput","input","Styledp","p","Styledb","button","vis","visibility","urllink","window","location","href","toString","arrlink","username","checkWalletConnection","walletModalActive","setWalletmodalactive","openModal","e","preventDefault","closeModal","walletAddress","setWalletAddress","activeAccount","getActiveAccount","address","connectWallet","permissions","requestPermissions","log","reload","disconnectWallet","clearActiveAccount","addToImageArray","push","removeFromImageArray","imgindex","indexOf","splice","showInstructions","display","clickedImage","borderStyle","border","borderColor","usernameTaken","axios","require","taken","get","then","res","children","value","catch","saveData","imga","EXHIBEO_CONTRACT","innerHTML","includes","userTaken","requestOperation","operationDetails","kind","TRANSACTION","destination","amount","parameters","entrypoint","prim","linka","adiv","a2div","paddingTop","paddingBottom","alignItems","justifyContent","color","backgroundColor","fontWeight","borderTop","borderLeft","borderRight","borderWidth","float","maxWidth","paddingLeft","textAlign","textOverflow","overflow","whiteSpace","padding","fontSize","minWidth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Masonry from 'masonry-layout';\nimport imagesLoaded from 'imagesloaded';\nimport infgif from './img/infloading.gif'\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport { DAppClient, TezosOperationType } from \"@airgap/beacon-sdk\";\n\nimport MiddleEllipsis from \"react-middle-ellipsis\";\nimport styled from 'styled-components';\nconst Tezos = new TezosToolkit(\"https://mainnet-tezos.giganode.io\");\nconst wallet = new DAppClient({ name: \"Exhibeo\" });\n\n\n\nvar objktArray = [];\n\nTezos.setWalletProvider(wallet);\n\nconst propTypes = {\n  navPosition: PropTypes.string,\n  hideNav: PropTypes.bool,\n  hideSignin: PropTypes.bool,\n  bottomOuterDivider: PropTypes.bool,\n  bottomDivider: PropTypes.bool,\n\n}\n\nconst defaultProps = {\n  navPosition: '',\n  hideNav: false,\n  hideSignin: false,\n  bottomOuterDivider: false,\n  bottomDivider: false\n}\nconst Hero = ({\n  className,\n  topOuterDivider,\n  bottomOuterDivider,\n  hideNav,\n  hideSignin,\n  topDivider,\n  bottomDivider,\n  hasBgColor,\n  invertColor,\n  ...props\n}) => {\n  const [loading, setloading] = useState(false);\n  const [notloggedin, setnotloggedin] = useState(true);\n  const query = `\n  query collectorGallery($address: String!) {\n    hic_et_nunc_token_holder(where: {holder_id: {_eq: $address}, quantity: {_gt: \"0\"}, token: {supply: {_gt: \"0\"}}}, order_by: {id: desc}) {\n      token {\n        id\n        artifact_uri\n        display_uri\n        thumbnail_uri\n        timestamp\n        mime\n        title\n        description\n        supply\n        token_tags {\n          tag {\n            tag\n          }\n        }\n        creator {\n          address\n        }\n        swaps(where: {status: {_eq: \"0\"}}, order_by: {price: asc}) {\n          amount\n          amount_left\n          creator_id\n          price\n        }\n      }\n    }\n  }\n  `;\n\n\n  async function fetchGraphQL(operationsDoc, operationName, variables) {\n    const result = await fetch(\n      \"https://api.hicdex.com/v1/graphql\",\n      {\n        method: \"POST\",\n        body: JSON.stringify({\n          query: operationsDoc,\n          variables: variables,\n          operationName: operationName\n        })\n      }\n    );\n\n    return await result.json();\n  }\n  var objktidArray = [];\n  var linkarray = [];\n\n  async function doFetch(wallet) {\n    setloading(true)\n    const { errors, data } = await fetchGraphQL(query, \"collectorGallery\", { \"address\": wallet });\n    if (errors) {\n      console.error(errors);\n    }\n    const result = data.hic_et_nunc_token_holder\n    for (var i = 0; i < result.length; i++) {\n      var link = result[i].token.display_uri.split('/')\n      var linkstring = \"https://ipfs.io/ipfs/\" + link[2];\n      linkarray[i] = linkstring\n      var objkt = result[i].token.id\n      objktidArray[i] = objkt\n    }\n\n\n    await showImages(linkarray)\n    var grid = document.querySelector('.grid2');\n    var imgLoad = imagesLoaded( grid );\n    setloading(false)\n    changeVisibility()\n    imgLoad.on( 'progress', function( instance, image ) {\n    //   var result = image.isLoaded ? 'loaded' : 'broken';\n    //   console.log( 'image is ' + result + ' for ' + image.img.src );\n      loadmason()\n    });\n\n  }\n  function loadmason() {\n    var grid = document.querySelector('.grid2');\n    new Masonry(grid, {\n      itemSelector: '.grid-item2',\n      percentPosition: true\n    });\n  }\n  function showImages(imgArray) {\n\n    for (var i = 0; i < imgArray.length; i++) {\n      var div = document.createElement(\"div\");\n      div.className = \"grid-item2\"\n      div.id = objktidArray[i]\n      div.onclick = (function (opt) {\n        return function () {\n          imageClicked(opt);\n        };\n      })(div.id);\n\n      div.style = \"width: 33%;\"\n      document.getElementById(\"imageGallery2\").appendChild(div);\n\n      var img = new Image();\n      img.src = imgArray[i]\n      img.style = \"width: 100%;\"\n      img.className = \"images\"\n      var idd = objktidArray[i]\n\n      document.getElementById(idd).appendChild(img);\n    }\n  }\n\n  // Styling a regular HTML input\n  const StyledInput = styled.input`\n    border-top-style: hidden;\n    border-right-style: hidden;\n    border-left-style: hidden;\n    border-bottom-style: groove;\n    width: 25vw;\n    text-align: center;\n    margin: 0px auto;\n    margin-top; 30px\n    margin-top; 30px\n    display: block;\n    background-color: #000000;\n    color: white;\n\n`;\n  const Styledp = styled.p`\nborder-top-style: hidden;\nborder-right-style: hidden;\nborder-left-style: hidden;\nborder-bottom-style: hidden;\nwidth: 70vw;\ntext-align: center;\nmargin: 0px auto;\nmargin-top; 30px\nmargin-top; 30px\ndisplay: block;\nbackground-color: #000000;\ncolor: white;\nfont-size: medium;\n\n`;\n  const Styledb = styled.button`\nborder-top-style: groove;\nborder-right-style: groove;\nborder-left-style: groove;\nborder-bottom-style: groove;\nwidth: 15vw;\ntext-align: center;\nmargin: 0px auto;\nmargin-top; 30px\nmargin-top; 30px\ndisplay: block;\nbackground-color: #000000;\ncolor: white;\n\n`;\n\n  function changeVisibility() {\n    const vis = document.getElementById(\"imageGallery2\").style.visibility;\n    if (vis === 'hidden') {\n      document.getElementById(\"imageGallery2\").style.visibility = 'visible'\n    }\n  }\n\n  useEffect(() => {\n    //AKA onload\n    const urllink = window.location.href.toString();\n    const arrlink = urllink.split(\"?\");\n    const username = arrlink[1]\n    if (!username) {\n      setnotloggedin(true)\n      checkWalletConnection();\n    }\n  }, [])\n\n  const [walletModalActive, setWalletmodalactive] = useState(false);\n\n  const openModal = (e) => {\n    e.preventDefault();\n    setWalletmodalactive(true);\n  }\n\n  const closeModal = (e) => {\n    e.preventDefault();\n    setWalletmodalactive(false);\n  }\n\n\n  const [walletAddress, setWalletAddress] = useState(\"\");\n\n\n  async function checkWalletConnection() {\n    const activeAccount = await wallet.getActiveAccount();\n    if (activeAccount) {\n      setWalletAddress(activeAccount.address);\n      setnotloggedin(false)\n      doFetch(activeAccount.address)\n    }\n  }\n\n  async function connectWallet() {\n\n    const activeAccount = await wallet.getActiveAccount();\n\n    if (activeAccount) {\n      openModal();\n    } else {\n      try {\n        //console.log(\"Requesting permissions...\");\n        const permissions = await wallet.requestPermissions();\n        console.log(\"Got permissions:\", permissions.address);\n        //wallet connected\n        setWalletAddress(permissions.address);\n        doFetch(permissions.address);\n        window.location.reload(false);\n      } catch (error) {\n        console.log(\"Got error:\", error);\n      }\n    }\n\n  }\n  async function disconnectWallet() {\n\n    await wallet.clearActiveAccount();\n    window.location.reload(false);\n  }\n\n\n  function addToImageArray(id) {\n    objktArray.push(id);\n  }\n\n  function removeFromImageArray(id) {\n    var imgindex = objktArray.indexOf(id);\n    objktArray.splice(imgindex, 1);\n  }\n\n  function showInstructions() {\n    if (document.getElementById(\"instructions\").style.display === \"block\") {\n      document.getElementById(\"instructions\").style.display = \"none\"\n    } else {\n      document.getElementById(\"instructions\").style.display = \"block\"\n    }\n\n  }\n\n\n  function imageClicked(id) {\n    const clickedImage = document.getElementById(id);\n    if (clickedImage.style.borderStyle === \"dashed\") {\n      clickedImage.style.borderStyle = \"none\";\n      removeFromImageArray(id);\n    }\n    else {\n      clickedImage.style.border = \"5px\";\n      clickedImage.style.borderColor = \"white\";\n      clickedImage.style.borderStyle = \"dashed\";\n      addToImageArray(id);\n    }\n  }\n  async function usernameTaken(username) {\n    const axios = require('axios')\n    var taken = false\n    await axios\n      .get('https://api.better-call.dev/v1/contract/mainnet/KT1V69m3Q6yAwQfo1PgFDVUeWgmtu52J2JEx/storage', {\n      })\n      .then(res => {\n        for (var i in res.data[0].children) {\n          if (res.data[0].children[i].children[1].value === username) {\n            if (res.data[0].children[i].name === walletAddress) {\n              console.log(\"username belongs to owner\")\n              taken = false\n            }\n            else {\n              console.log(\"username doesnt belong to owner\")\n              taken = true\n\n            }\n          }\n        }\n      })\n      .catch(error => {\n        console.error(error)\n      })\n    return taken\n\n  }\n  async function saveData() {\n    var imga = objktArray.toString();\n    const EXHIBEO_CONTRACT = \"KT1V69m3Q6yAwQfo1PgFDVUeWgmtu52J2JEx\";\n    const username = document.getElementById(\"username\").value;\n    if (username === \"\") {\n      document.getElementById(\"warningtext\").innerHTML = \"Username cannot be empty\"\n    }\n    else if(username.includes(\" \")){\n      document.getElementById(\"warningtext\").innerHTML = \"Username cannot contain spaces\"\n    }\n    else if (imga === \"\") {\n      document.getElementById(\"warningtext\").innerHTML = \"You cannot choose 0 images, select some images from below to display on your profile, then click save.\"\n    }\n    else {\n      var userTaken = await usernameTaken(username)\n      console.log(userTaken)\n      if (userTaken) {\n        document.getElementById(\"warningtext\").innerHTML = \"Username is already taken, if you believe this username already belongs to you, make sure you are using the same wallet as when you first created that username.\"\n      } else if (!userTaken) {\n        try {\n          const result = await wallet.requestOperation({\n            operationDetails: [\n              {\n                kind: TezosOperationType.TRANSACTION,\n                destination: EXHIBEO_CONTRACT,\n                amount: \"0\",\n                parameters: {\n                  entrypoint: \"default\",\n                  value: {\n                    prim: \"Pair\",\n                    \"args\":\n                      [\n                        {\n                          string: imga\n                        },\n                        {\n                          string: username\n                        }\n                      ]\n                  },\n                },\n              },\n            ],\n          });\n\n          console.log(result);\n          //show link\n          var linka = \"https://exhibeo.xyz/?\" + username\n          //document.getElementById(\"linkforprofile\").setAttribute('href',linka) \n\n          var adiv = document.createElement(\"a\");\n          adiv.href = linka\n          adiv.style = \"text-decoration: underline; font-size: xxx-large;\"\n          adiv.innerHTML = \"Link to your profile\"\n          document.getElementById(\"linkforprofile\").appendChild(adiv);\n          var a2div = document.createElement(\"a\");\n          a2div.style = \"font-size: x-large;\"\n          a2div.innerHTML = \"Give it ~30 seconds for blockchain confirmation\"\n          document.getElementById(\"confirmtext\").appendChild(a2div);\n        } catch (error) {\n          console.log(\n            `The contract call failed and the following error was returned:`\n          );\n          console.log(error);\n        }\n      }\n\n\n    }\n  }\n//TODO, after submission wait until blockchain inclusion, then forward to profile\n//Do something about images not loading\n  return (\n    <section\n    >\n      {!walletModalActive && <div className=\"container\">\n        <div className={\n          classNames(\n            bottomDivider && 'has-bottom-divider'\n          )}>\n          {!hideNav &&\n            <div >\n              {!hideSignin &&\n                <div\n                >\n                  <div style={{ paddingTop: \"15px\", paddingBottom: \"15px\", alignItems: \"center\", justifyContent: \"center\", display: \"flex\" }}>\n                    {!walletAddress && <button style={{ display: 'inline-flex', color: 'white', backgroundColor: '#000000', fontWeight: 'light', border: 'solid', borderColor: 'white', borderTop: 'none', borderLeft: \"none\", borderRight: 'none', borderWidth: '2px', float: 'right' }} onClick={connectWallet}>Sign in with wallet to customize</button>}\n                    {walletAddress && <span style={{ display: 'inline-flex', color: 'white', backgroundColor: '#000000', fontWeight: 'light', border: 'solid', borderColor: 'white', borderTop: 'none', borderLeft: \"none\", borderRight: 'none', borderWidth: '2px', float: 'right' }}><button style={{ maxWidth: '200px', fontWeight: 'light', display: 'inline-block', color: 'white', backgroundColor: '#000000', fontWeight: 'light', border: 'solid', borderColor: 'white', borderTop: 'none', borderLeft: \"none\", borderRight: 'none', borderWidth: '2px', float: 'right' }} className=\"button button-primary button-wide-mobile button-sm\" onClick={openModal}><MiddleEllipsis><span>{walletAddress}</span></MiddleEllipsis></button></span>}\n                  </div>\n                </div>}\n            </div>\n          }\n        </div>\n      </div>}\n      {walletModalActive && <div style={{ color: 'white', fontWeight: 'bold', backgroundColor: '#000000', paddingTop: 20, paddingBottom: 12, paddingLeft: 24 }} onClick={closeModal} className=\"container\">\n        <div style={{ textAlign: 'center', paddingTop: 4, paddingBottom: 4, textOverflow: 'ellipsis', overflow: 'hidden', whiteSpace: 'nowrap', }}>Address: {walletAddress}</div>\n        <div style={{ textAlign: 'center', paddingTop: 4, paddingBottom: 4, }}><button style={{ display: 'inline-block', color: 'white', backgroundColor: '#000000', fontWeight: 'light', border: 'solid', borderColor: 'white', borderTop: 'none', borderLeft: \"none\", borderRight: 'none', borderWidth: '2px', }} className=\"button button-primary button-wide-mobile button-sm\" onClick={disconnectWallet} >Logout</button></div>\n\n      </div>}\n      {walletAddress && <div style={{ paddingTop: \"15px\", paddingBottom: \"15px\", alignItems: \"center\", justifyContent: \"center\", display: \"flex\" }}>\n\n\n        <div style={{ textAlign: \"center\" }}>\n          <Styledp onClick={showInstructions} style={{ padding: \"5px\" }}>Enter a username and select the images you wish to display. For more detailed instructions <u>click here</u></Styledp>\n          <div id=\"instructions\" style={{ display: \"none\" }}>\n            <Styledp style={{ padding: \"5px\" }}>STEPS</Styledp>\n            <Styledp style={{ padding: \"5px\" }}><big>1</big>. Sign in with your wallet that contains the NFTs you wish to put in your exhibit</Styledp>\n            <Styledp style={{ padding: \"5px\" }}><big>2</big>. Enter a username. This will be turned into the link for your account, no spaces allowed</Styledp>\n            <Styledp style={{ padding: \"5px\" }}><big>3</big>. Select images you want to display on your profile. The images will be displayed in the order you select them.</Styledp>\n            <Styledp style={{ padding: \"5px\" }}><big>4</big>. Click save, if the username is taken an error should appear.</Styledp>\n            <Styledp style={{ padding: \"5px\" }}>Due to the data being stored on a smart contract, the saving will take place as a transaction with 0 fees (besides gas + storage if needed).</Styledp></div>\n          <div style={{ paddingTop: \"20px\", paddingBottom: \"20px\" }}>\n            <StyledInput autoComplete=\"off\" id=\"username\"\n              placeholder=\"Username\"\n            />\n          </div>\n          <p id=\"warningtext\" style={{ padding: \"10px\", color: \"red\", fontSize: \"xl\" }}></p>\n          <p><Styledb onClick={saveData} style={{ padding: \"10px\", minWidth: \"100px\" }}>Save</Styledb></p>\n        </div>\n\n      </div>}\n      <div id=\"linkforprofile\" style={{ padding: \"10px\", textAlign: \"center\" }}>\n      </div>\n      <div id=\"confirmtext\" style={{ padding: \"10px\", textAlign: \"center\" }}>\n      </div>\n      {loading && <div style={{ alignItems: \"center\", justifyContent: \"center\", display: \"flex\" }} ><img src={infgif} alt=\"loading...\" /></div>}\n      {notloggedin && <div style={{ alignItems: \"center\", justifyContent: \"center\", display: \"flex\" }} ><img src={infgif} alt=\"loading...\" /></div>}\n      <div id='imageGallery2' style={{ visibility: \"hidden\" }} className=\"grid2\">\n        <div className=\"grid-sizer\"></div>\n      </div>\n    </section>\n  );\n}\n\nHero.propTypes = propTypes;\nHero.defaultProps = defaultProps;\n\nexport default Hero;"]},"metadata":{},"sourceType":"module"}