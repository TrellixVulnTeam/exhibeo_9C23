{"ast":null,"code":"var _jsxFileName = \"/Users/charlie/code/ex/exhiibeo/src/components/sections/Account.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport Masonry from 'masonry-layout';\nimport imagesLoaded from 'imagesloaded';\nimport infgif from './img/infloading.gif';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport { DAppClient, TezosOperationType } from \"@airgap/beacon-sdk\";\nimport MiddleEllipsis from \"react-middle-ellipsis\";\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Tezos = new TezosToolkit(\"https://mainnet-tezos.giganode.io\");\nconst wallet = new DAppClient({\n  name: \"Exhibeo\"\n});\nvar objktArray = [];\nTezos.setWalletProvider(wallet);\nconst propTypes = {\n  navPosition: PropTypes.string,\n  hideNav: PropTypes.bool,\n  hideSignin: PropTypes.bool,\n  bottomOuterDivider: PropTypes.bool,\n  bottomDivider: PropTypes.bool\n};\nconst defaultProps = {\n  navPosition: '',\n  hideNav: false,\n  hideSignin: false,\n  bottomOuterDivider: false,\n  bottomDivider: false\n};\n\nconst Hero = ({\n  className,\n  topOuterDivider,\n  bottomOuterDivider,\n  hideNav,\n  hideSignin,\n  topDivider,\n  bottomDivider,\n  hasBgColor,\n  invertColor,\n  ...props\n}) => {\n  _s();\n\n  const [loading, setloading] = useState(false);\n  const [notloggedin, setnotloggedin] = useState(true);\n  const query = `\n  query collectorGallery($address: String!) {\n    hic_et_nunc_token_holder(where: {holder_id: {_eq: $address}, quantity: {_gt: \"0\"}, token: {supply: {_gt: \"0\"}}}, order_by: {id: desc}) {\n      token {\n        id\n        artifact_uri\n        display_uri\n        thumbnail_uri\n        timestamp\n        mime\n        title\n        description\n        supply\n        token_tags {\n          tag {\n            tag\n          }\n        }\n        creator {\n          address\n        }\n        swaps(where: {status: {_eq: \"0\"}}, order_by: {price: asc}) {\n          amount\n          amount_left\n          creator_id\n          price\n        }\n      }\n    }\n  }\n  `;\n\n  async function fetchGraphQL(operationsDoc, operationName, variables) {\n    const result = await fetch(\"https://api.hicdex.com/v1/graphql\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        query: operationsDoc,\n        variables: variables,\n        operationName: operationName\n      })\n    });\n    return await result.json();\n  }\n\n  var objktidArray = [];\n  var linkarray = [];\n\n  async function doFetch(wallet) {\n    setloading(true);\n    const {\n      errors,\n      data\n    } = await fetchGraphQL(query, \"collectorGallery\", {\n      \"address\": wallet\n    });\n\n    if (errors) {\n      console.error(errors);\n    }\n\n    const result = data.hic_et_nunc_token_holder;\n\n    for (var i = 0; i < result.length; i++) {\n      var link = result[i].token.display_uri.split('/');\n      var linkstring = \"https://ipfs.io/ipfs/\" + link[2];\n      linkarray[i] = linkstring;\n      var objkt = result[i].token.id;\n      objktidArray[i] = objkt;\n    } //console.log(objktidArray)\n\n\n    await showImages(linkarray);\n    console.log('loaded images');\n    var grid = document.querySelector('.grid2');\n    var msnry = new Masonry(grid, {\n      itemSelector: '.grid-item',\n      columnWidth: '.grid-sizer',\n      percentPosition: true\n    });\n    var imgLoad = imagesLoaded(grid);\n    setloading(false);\n    changeVisibility();\n    imgLoad.on('progress', function (instance, image) {\n      var result = image.isLoaded ? 'loaded' : 'broken';\n      console.log('image is ' + result + ' for ' + image.img.src);\n      msnry.layout();\n    });\n    var posts = document.querySelectorAll('.images');\n    imagesLoaded(posts, function () {\n      loadmason();\n      setloading(false);\n      changeVisibility();\n    });\n    var posts2 = document.querySelectorAll('.images2');\n    imagesLoaded(posts2, function () {\n      loadmason();\n    });\n  }\n\n  function loadmason() {\n    var grid = document.querySelector('.grid2');\n    new Masonry(grid, {\n      itemSelector: '.grid-item2',\n      percentPosition: true\n    });\n    console.log(\"masonry ran\");\n  }\n\n  function showImages(imgArray) {\n    for (var i = 0; i < imgArray.length; i++) {\n      var div = document.createElement(\"div\");\n      div.className = \"grid-item2\";\n      div.id = objktidArray[i];\n\n      div.onclick = function (opt) {\n        return function () {\n          imageClicked(opt);\n        };\n      }(div.id);\n\n      div.style = \"width: 33%;\";\n      document.getElementById(\"imageGallery2\").appendChild(div);\n      var img = new Image();\n      img.src = imgArray[i];\n      img.style = \"width: 100%;\";\n\n      if (i < 20) {\n        img.className = \"images\";\n      } else {\n        img.className = \"images2\";\n      }\n\n      var idd = objktidArray[i];\n      document.getElementById(idd).appendChild(img);\n    }\n  } // Styling a regular HTML input\n\n\n  const StyledInput = styled.input`\n    border-top-style: hidden;\n    border-right-style: hidden;\n    border-left-style: hidden;\n    border-bottom-style: groove;\n    width: 25vw;\n    text-align: center;\n    margin: 0px auto;\n    margin-top; 30px\n    margin-top; 30px\n    display: block;\n    background-color: #000000;\n    color: white;\n\n`;\n  const Styledp = styled.p`\nborder-top-style: hidden;\nborder-right-style: hidden;\nborder-left-style: hidden;\nborder-bottom-style: hidden;\nwidth: 70vw;\ntext-align: center;\nmargin: 0px auto;\nmargin-top; 30px\nmargin-top; 30px\ndisplay: block;\nbackground-color: #000000;\ncolor: white;\nfont-size: medium;\n\n`;\n  const Styledb = styled.button`\nborder-top-style: groove;\nborder-right-style: groove;\nborder-left-style: groove;\nborder-bottom-style: groove;\nwidth: 15vw;\ntext-align: center;\nmargin: 0px auto;\nmargin-top; 30px\nmargin-top; 30px\ndisplay: block;\nbackground-color: #000000;\ncolor: white;\n\n`;\n\n  function changeVisibility() {\n    const vis = document.getElementById(\"imageGallery2\").style.visibility;\n\n    if (vis === 'hidden') {\n      document.getElementById(\"imageGallery2\").style.visibility = 'visible';\n    }\n  }\n\n  useEffect(() => {\n    //AKA onload\n    const urllink = window.location.href.toString();\n    const arrlink = urllink.split(\"?\");\n    const username = arrlink[1];\n\n    if (!username) {\n      setnotloggedin(true);\n      checkWalletConnection();\n    }\n  }, []);\n  const [walletModalActive, setWalletmodalactive] = useState(false);\n\n  const openModal = e => {\n    e.preventDefault();\n    setWalletmodalactive(true);\n  };\n\n  const closeModal = e => {\n    e.preventDefault();\n    setWalletmodalactive(false);\n  };\n\n  const [walletAddress, setWalletAddress] = useState(\"\");\n\n  async function checkWalletConnection() {\n    const activeAccount = await wallet.getActiveAccount();\n\n    if (activeAccount) {\n      setWalletAddress(activeAccount.address);\n      setnotloggedin(false);\n      doFetch(activeAccount.address);\n    }\n  }\n\n  async function connectWallet() {\n    const activeAccount = await wallet.getActiveAccount();\n\n    if (activeAccount) {\n      openModal();\n    } else {\n      try {\n        //console.log(\"Requesting permissions...\");\n        const permissions = await wallet.requestPermissions();\n        console.log(\"Got permissions:\", permissions.address); //wallet connected\n\n        setWalletAddress(permissions.address);\n        doFetch(permissions.address);\n        window.location.reload(false);\n      } catch (error) {\n        console.log(\"Got error:\", error);\n      }\n    }\n  }\n\n  async function disconnectWallet() {\n    await wallet.clearActiveAccount();\n    window.location.reload(false);\n  }\n\n  function addToImageArray(id) {\n    objktArray.push(id);\n  }\n\n  function removeFromImageArray(id) {\n    var imgindex = objktArray.indexOf(id);\n    objktArray.splice(imgindex, 1);\n  }\n\n  function showInstructions() {\n    if (document.getElementById(\"instructions\").style.display === \"block\") {\n      document.getElementById(\"instructions\").style.display = \"none\";\n    } else {\n      document.getElementById(\"instructions\").style.display = \"block\";\n    }\n  }\n\n  function imageClicked(id) {\n    const clickedImage = document.getElementById(id);\n\n    if (clickedImage.style.borderStyle === \"dashed\") {\n      clickedImage.style.borderStyle = \"none\";\n      removeFromImageArray(id);\n    } else {\n      clickedImage.style.border = \"5px\";\n      clickedImage.style.borderColor = \"white\";\n      clickedImage.style.borderStyle = \"dashed\";\n      addToImageArray(id);\n    }\n  }\n\n  async function usernameTaken(username) {\n    const axios = require('axios');\n\n    var taken = false;\n    await axios.get('https://api.better-call.dev/v1/contract/mainnet/KT1VTp8ZBBrScQmVVTZRoQE28gx4fMWTTW6b/storage', {}).then(res => {\n      for (var i in res.data[0].children) {\n        if (res.data[0].children[i].children[1].value === username) {\n          if (res.data[0].children[i].name === walletAddress) {\n            console.log(\"username belongs to owner\");\n            taken = false;\n          } else {\n            console.log(\"username doesnt belong to owner\");\n            taken = true;\n          }\n        }\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n    return taken;\n  }\n\n  async function saveData() {\n    var imga = objktArray.toString();\n    const EXHIBEO_CONTRACT = \"KT1VTp8ZBBrScQmVVTZRoQE28gx4fMWTTW6b\";\n    const username = document.getElementById(\"username\").value;\n\n    if (username === \"\") {\n      document.getElementById(\"warningtext\").innerHTML = \"Username cannot be empty\";\n    } else if (imga === \"\") {\n      document.getElementById(\"warningtext\").innerHTML = \"You cannot choose 0 images, select some images from below to display on your profile, then click save.\";\n    } else {\n      var userTaken = await usernameTaken(username);\n      console.log(userTaken);\n\n      if (userTaken) {\n        document.getElementById(\"warningtext\").innerHTML = \"Username is already taken, if you believe this username already belongs to you, make sure you are using the same wallet as when you first created that username.\";\n      } else if (!userTaken) {\n        try {\n          const result = await wallet.requestOperation({\n            operationDetails: [{\n              kind: TezosOperationType.TRANSACTION,\n              destination: EXHIBEO_CONTRACT,\n              amount: \"0\",\n              parameters: {\n                entrypoint: \"default\",\n                value: {\n                  prim: \"Pair\",\n                  \"args\": [{\n                    string: imga\n                  }, {\n                    string: username\n                  }]\n                }\n              }\n            }]\n          });\n          console.log(result); //show link\n\n          var linka = \"https://exhibeo.xyz/?\" + username; //document.getElementById(\"linkforprofile\").setAttribute('href',linka) \n\n          var adiv = document.createElement(\"a\");\n          adiv.href = linka;\n          adiv.style = \"text-decoration: underline;\";\n          adiv.innerHTML = \"Link to your profile\";\n          document.getElementById(\"linkforprofile\").appendChild(adiv);\n        } catch (error) {\n          console.log(`The contract call failed and the following error was returned:`);\n          console.log(error);\n        }\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [!walletModalActive && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classNames(bottomDivider && 'has-bottom-divider'),\n        children: !hideNav && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: !hideSignin && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                paddingTop: \"15px\",\n                paddingBottom: \"15px\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                display: \"flex\"\n              },\n              children: [!walletAddress && /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  display: 'inline-flex',\n                  color: 'white',\n                  backgroundColor: '#000000',\n                  fontWeight: 'light',\n                  border: 'solid',\n                  borderColor: 'white',\n                  borderTop: 'none',\n                  borderLeft: \"none\",\n                  borderRight: 'none',\n                  borderWidth: '2px',\n                  float: 'right'\n                },\n                onClick: connectWallet,\n                children: \"Sign in with wallet to customize\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 40\n              }, this), walletAddress && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: 'inline-flex',\n                  color: 'white',\n                  backgroundColor: '#000000',\n                  fontWeight: 'light',\n                  border: 'solid',\n                  borderColor: 'white',\n                  borderTop: 'none',\n                  borderLeft: \"none\",\n                  borderRight: 'none',\n                  borderWidth: '2px',\n                  float: 'right'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    maxWidth: '200px',\n                    fontWeight: 'light',\n                    display: 'inline-block',\n                    color: 'white',\n                    backgroundColor: '#000000',\n                    fontWeight: 'light',\n                    border: 'solid',\n                    borderColor: 'white',\n                    borderTop: 'none',\n                    borderLeft: \"none\",\n                    borderRight: 'none',\n                    borderWidth: '2px',\n                    float: 'right'\n                  },\n                  className: \"button button-primary button-wide-mobile button-sm\",\n                  onClick: openModal,\n                  children: /*#__PURE__*/_jsxDEV(MiddleEllipsis, {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: walletAddress\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 444,\n                      columnNumber: 663\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 647\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 280\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 30\n    }, this), walletModalActive && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'white',\n        fontWeight: 'bold',\n        backgroundColor: '#000000',\n        paddingTop: 20,\n        paddingBottom: 12,\n        paddingLeft: 24\n      },\n      onClick: closeModal,\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: 4,\n          paddingBottom: 4,\n          textOverflow: 'ellipsis',\n          overflow: 'hidden',\n          whiteSpace: 'nowrap'\n        },\n        children: [\"Address: \", walletAddress]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: 4,\n          paddingBottom: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            display: 'inline-block',\n            color: 'white',\n            backgroundColor: '#000000',\n            fontWeight: 'light',\n            border: 'solid',\n            borderColor: 'white',\n            borderTop: 'none',\n            borderLeft: \"none\",\n            borderRight: 'none',\n            borderWidth: '2px'\n          },\n          className: \"button button-primary button-wide-mobile button-sm\",\n          onClick: disconnectWallet,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 80\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 29\n    }, this), walletAddress && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: \"15px\",\n        paddingBottom: \"15px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        display: \"flex\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Styledp, {\n          onClick: showInstructions,\n          style: {\n            padding: \"5px\"\n          },\n          children: [\"Enter a username and select the images you wish to display. For more detailed instructions \", /*#__PURE__*/_jsxDEV(\"u\", {\n            children: \"click here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 165\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"instructions\",\n          style: {\n            display: \"none\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: \"STEPS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"big\", {\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 49\n            }, this), \". Sign in with your wallet that contains the NFTs you wish to put in your exhibit\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"big\", {\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 49\n            }, this), \". Enter a username. This will be turned into the link for your account\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"big\", {\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 49\n            }, this), \". Select images you want to display on your profile. The images will be displayed in the order you select them.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"big\", {\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 49\n            }, this), \". Click save, if the username is taken an error should appear.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Styledp, {\n            style: {\n              padding: \"5px\"\n            },\n            children: \"Due to the data being stored on a smart contract, the saving will take place as a transaction with 0 fees (besides gas + storage if needed).\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingTop: \"20px\",\n            paddingBottom: \"20px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(StyledInput, {\n            autoComplete: \"off\",\n            id: \"username\",\n            placeholder: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"warningtext\",\n          style: {\n            padding: \"10px\",\n            color: \"red\",\n            fontSize: \"xl\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(Styledb, {\n            onClick: saveData,\n            style: {\n              padding: \"10px\",\n              minWidth: \"100px\"\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"linkforprofile\",\n      style: {\n        padding: \"10px\",\n        textAlign: \"center\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        color: 'lightblue'\n      },\n      children: [\"Loading images....speed dependent on your internet and nft amount. Please be patient\", /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          display: \"flex\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: infgif,\n          alt: \"loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 242\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 160\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 19\n    }, this), notloggedin && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        display: \"flex\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: infgif,\n        alt: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 105\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"imageGallery2\",\n      style: {\n        visibility: \"hidden\"\n      },\n      className: \"grid2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-sizer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 430,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Hero, \"KQskZ5IOLVgJ6ycjl3BbdnpUwIk=\");\n\n_c = Hero;\nHero.propTypes = propTypes;\nHero.defaultProps = defaultProps;\nexport default Hero;\n\nvar _c;\n\n$RefreshReg$(_c, \"Hero\");","map":{"version":3,"sources":["/Users/charlie/code/ex/exhiibeo/src/components/sections/Account.js"],"names":["React","useState","useEffect","useRef","Masonry","imagesLoaded","infgif","classNames","PropTypes","TezosToolkit","DAppClient","TezosOperationType","MiddleEllipsis","styled","Tezos","wallet","name","objktArray","setWalletProvider","propTypes","navPosition","string","hideNav","bool","hideSignin","bottomOuterDivider","bottomDivider","defaultProps","Hero","className","topOuterDivider","topDivider","hasBgColor","invertColor","props","loading","setloading","notloggedin","setnotloggedin","query","fetchGraphQL","operationsDoc","operationName","variables","result","fetch","method","body","JSON","stringify","json","objktidArray","linkarray","doFetch","errors","data","console","error","hic_et_nunc_token_holder","i","length","link","token","display_uri","split","linkstring","objkt","id","showImages","log","grid","document","querySelector","msnry","itemSelector","columnWidth","percentPosition","imgLoad","changeVisibility","on","instance","image","isLoaded","img","src","layout","posts","querySelectorAll","loadmason","posts2","imgArray","div","createElement","onclick","opt","imageClicked","style","getElementById","appendChild","Image","idd","StyledInput","input","Styledp","p","Styledb","button","vis","visibility","urllink","window","location","href","toString","arrlink","username","checkWalletConnection","walletModalActive","setWalletmodalactive","openModal","e","preventDefault","closeModal","walletAddress","setWalletAddress","activeAccount","getActiveAccount","address","connectWallet","permissions","requestPermissions","reload","disconnectWallet","clearActiveAccount","addToImageArray","push","removeFromImageArray","imgindex","indexOf","splice","showInstructions","display","clickedImage","borderStyle","border","borderColor","usernameTaken","axios","require","taken","get","then","res","children","value","catch","saveData","imga","EXHIBEO_CONTRACT","innerHTML","userTaken","requestOperation","operationDetails","kind","TRANSACTION","destination","amount","parameters","entrypoint","prim","linka","adiv","paddingTop","paddingBottom","alignItems","justifyContent","color","backgroundColor","fontWeight","borderTop","borderLeft","borderRight","borderWidth","float","maxWidth","paddingLeft","textAlign","textOverflow","overflow","whiteSpace","padding","fontSize","minWidth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Masonry from 'masonry-layout';\nimport imagesLoaded from 'imagesloaded';\nimport infgif from './img/infloading.gif'\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport { DAppClient, TezosOperationType } from \"@airgap/beacon-sdk\";\n\nimport MiddleEllipsis from \"react-middle-ellipsis\";\nimport styled from 'styled-components';\nconst Tezos = new TezosToolkit(\"https://mainnet-tezos.giganode.io\");\nconst wallet = new DAppClient({ name: \"Exhibeo\" });\n\n\n\nvar objktArray = [];\n\nTezos.setWalletProvider(wallet);\n\nconst propTypes = {\n  navPosition: PropTypes.string,\n  hideNav: PropTypes.bool,\n  hideSignin: PropTypes.bool,\n  bottomOuterDivider: PropTypes.bool,\n  bottomDivider: PropTypes.bool,\n\n}\n\nconst defaultProps = {\n  navPosition: '',\n  hideNav: false,\n  hideSignin: false,\n  bottomOuterDivider: false,\n  bottomDivider: false\n}\nconst Hero = ({\n  className,\n  topOuterDivider,\n  bottomOuterDivider,\n  hideNav,\n  hideSignin,\n  topDivider,\n  bottomDivider,\n  hasBgColor,\n  invertColor,\n  ...props\n}) => {\n  const [loading, setloading] = useState(false);\n  const [notloggedin, setnotloggedin] = useState(true);\n  const query = `\n  query collectorGallery($address: String!) {\n    hic_et_nunc_token_holder(where: {holder_id: {_eq: $address}, quantity: {_gt: \"0\"}, token: {supply: {_gt: \"0\"}}}, order_by: {id: desc}) {\n      token {\n        id\n        artifact_uri\n        display_uri\n        thumbnail_uri\n        timestamp\n        mime\n        title\n        description\n        supply\n        token_tags {\n          tag {\n            tag\n          }\n        }\n        creator {\n          address\n        }\n        swaps(where: {status: {_eq: \"0\"}}, order_by: {price: asc}) {\n          amount\n          amount_left\n          creator_id\n          price\n        }\n      }\n    }\n  }\n  `;\n\n\n  async function fetchGraphQL(operationsDoc, operationName, variables) {\n    const result = await fetch(\n      \"https://api.hicdex.com/v1/graphql\",\n      {\n        method: \"POST\",\n        body: JSON.stringify({\n          query: operationsDoc,\n          variables: variables,\n          operationName: operationName\n        })\n      }\n    );\n\n    return await result.json();\n  }\n  var objktidArray = [];\n  var linkarray = [];\n\n  async function doFetch(wallet) {\n    setloading(true)\n    const { errors, data } = await fetchGraphQL(query, \"collectorGallery\", { \"address\": wallet });\n    if (errors) {\n      console.error(errors);\n    }\n    const result = data.hic_et_nunc_token_holder\n    for (var i = 0; i < result.length; i++) {\n      var link = result[i].token.display_uri.split('/')\n      var linkstring = \"https://ipfs.io/ipfs/\" + link[2];\n      linkarray[i] = linkstring\n      var objkt = result[i].token.id\n      objktidArray[i] = objkt\n    }\n\n\n    //console.log(objktidArray)\n    await showImages(linkarray)\n    console.log('loaded images')\n    var grid = document.querySelector('.grid2');\n    var msnry = new Masonry( grid, {\n      itemSelector: '.grid-item',\n      columnWidth: '.grid-sizer',\n      percentPosition: true\n    });\n    var imgLoad = imagesLoaded( grid );\n    setloading(false)\n    changeVisibility()\n    imgLoad.on( 'progress', function( instance, image ) {\n      var result = image.isLoaded ? 'loaded' : 'broken';\n      console.log( 'image is ' + result + ' for ' + image.img.src );\n      msnry.layout();\n    });\n\n    var posts = document.querySelectorAll('.images');\n    imagesLoaded(posts, function () {\n      loadmason()\n      setloading(false)\n      changeVisibility()\n    });\n    var posts2 = document.querySelectorAll('.images2');\n    imagesLoaded(posts2, function () {\n      loadmason()\n    });\n\n  }\n  function loadmason() {\n    var grid = document.querySelector('.grid2');\n    new Masonry(grid, {\n      itemSelector: '.grid-item2',\n      percentPosition: true\n    });\n    console.log(\"masonry ran\")\n  }\n  function showImages(imgArray) {\n\n    for (var i = 0; i < imgArray.length; i++) {\n      var div = document.createElement(\"div\");\n      div.className = \"grid-item2\"\n      div.id = objktidArray[i]\n      div.onclick = (function (opt) {\n        return function () {\n          imageClicked(opt);\n        };\n      })(div.id);\n\n      div.style = \"width: 33%;\"\n      document.getElementById(\"imageGallery2\").appendChild(div);\n\n      var img = new Image();\n      img.src = imgArray[i]\n      img.style = \"width: 100%;\"\n      \n      if (i < 20) {\n        img.className = \"images\"\n      }\n      else {\n        img.className = \"images2\"\n      }\n      var idd = objktidArray[i]\n\n      document.getElementById(idd).appendChild(img);\n    }\n  }\n\n  // Styling a regular HTML input\n  const StyledInput = styled.input`\n    border-top-style: hidden;\n    border-right-style: hidden;\n    border-left-style: hidden;\n    border-bottom-style: groove;\n    width: 25vw;\n    text-align: center;\n    margin: 0px auto;\n    margin-top; 30px\n    margin-top; 30px\n    display: block;\n    background-color: #000000;\n    color: white;\n\n`;\n  const Styledp = styled.p`\nborder-top-style: hidden;\nborder-right-style: hidden;\nborder-left-style: hidden;\nborder-bottom-style: hidden;\nwidth: 70vw;\ntext-align: center;\nmargin: 0px auto;\nmargin-top; 30px\nmargin-top; 30px\ndisplay: block;\nbackground-color: #000000;\ncolor: white;\nfont-size: medium;\n\n`;\n  const Styledb = styled.button`\nborder-top-style: groove;\nborder-right-style: groove;\nborder-left-style: groove;\nborder-bottom-style: groove;\nwidth: 15vw;\ntext-align: center;\nmargin: 0px auto;\nmargin-top; 30px\nmargin-top; 30px\ndisplay: block;\nbackground-color: #000000;\ncolor: white;\n\n`;\n\n  function changeVisibility() {\n    const vis = document.getElementById(\"imageGallery2\").style.visibility;\n    if (vis === 'hidden') {\n      document.getElementById(\"imageGallery2\").style.visibility = 'visible'\n    }\n  }\n\n  useEffect(() => {\n    //AKA onload\n    const urllink = window.location.href.toString();\n    const arrlink = urllink.split(\"?\");\n    const username = arrlink[1]\n    if (!username) {\n      setnotloggedin(true)\n      checkWalletConnection();\n    }\n  }, [])\n\n  const [walletModalActive, setWalletmodalactive] = useState(false);\n\n  const openModal = (e) => {\n    e.preventDefault();\n    setWalletmodalactive(true);\n  }\n\n  const closeModal = (e) => {\n    e.preventDefault();\n    setWalletmodalactive(false);\n  }\n\n\n  const [walletAddress, setWalletAddress] = useState(\"\");\n\n\n  async function checkWalletConnection() {\n    const activeAccount = await wallet.getActiveAccount();\n    if (activeAccount) {\n      setWalletAddress(activeAccount.address);\n      setnotloggedin(false)\n      doFetch(activeAccount.address)\n    }\n  }\n\n  async function connectWallet() {\n\n    const activeAccount = await wallet.getActiveAccount();\n\n    if (activeAccount) {\n      openModal();\n    } else {\n      try {\n        //console.log(\"Requesting permissions...\");\n        const permissions = await wallet.requestPermissions();\n        console.log(\"Got permissions:\", permissions.address);\n        //wallet connected\n        setWalletAddress(permissions.address);\n        doFetch(permissions.address);\n        window.location.reload(false);\n      } catch (error) {\n        console.log(\"Got error:\", error);\n      }\n    }\n\n  }\n  async function disconnectWallet() {\n\n    await wallet.clearActiveAccount();\n    window.location.reload(false);\n  }\n\n\n  function addToImageArray(id) {\n    objktArray.push(id);\n  }\n\n  function removeFromImageArray(id) {\n    var imgindex = objktArray.indexOf(id);\n    objktArray.splice(imgindex, 1);\n  }\n\n  function showInstructions() {\n    if (document.getElementById(\"instructions\").style.display === \"block\") {\n      document.getElementById(\"instructions\").style.display = \"none\"\n    } else {\n      document.getElementById(\"instructions\").style.display = \"block\"\n    }\n\n  }\n\n\n  function imageClicked(id) {\n    const clickedImage = document.getElementById(id);\n    if (clickedImage.style.borderStyle === \"dashed\") {\n      clickedImage.style.borderStyle = \"none\";\n      removeFromImageArray(id);\n    }\n    else {\n      clickedImage.style.border = \"5px\";\n      clickedImage.style.borderColor = \"white\";\n      clickedImage.style.borderStyle = \"dashed\";\n      addToImageArray(id);\n    }\n  }\n  async function usernameTaken(username) {\n    const axios = require('axios')\n    var taken = false\n    await axios\n      .get('https://api.better-call.dev/v1/contract/mainnet/KT1VTp8ZBBrScQmVVTZRoQE28gx4fMWTTW6b/storage', {\n      })\n      .then(res => {\n        for (var i in res.data[0].children) {\n          if (res.data[0].children[i].children[1].value === username) {\n            if (res.data[0].children[i].name === walletAddress) {\n              console.log(\"username belongs to owner\")\n              taken = false\n            }\n            else {\n              console.log(\"username doesnt belong to owner\")\n              taken = true\n\n            }\n          }\n        }\n      })\n      .catch(error => {\n        console.error(error)\n      })\n    return taken\n\n  }\n  async function saveData() {\n    var imga = objktArray.toString();\n    const EXHIBEO_CONTRACT = \"KT1VTp8ZBBrScQmVVTZRoQE28gx4fMWTTW6b\";\n    const username = document.getElementById(\"username\").value;\n    if (username === \"\") {\n      document.getElementById(\"warningtext\").innerHTML = \"Username cannot be empty\"\n    }\n    else if (imga === \"\") {\n      document.getElementById(\"warningtext\").innerHTML = \"You cannot choose 0 images, select some images from below to display on your profile, then click save.\"\n    }\n    else {\n      var userTaken = await usernameTaken(username)\n      console.log(userTaken)\n      if (userTaken) {\n        document.getElementById(\"warningtext\").innerHTML = \"Username is already taken, if you believe this username already belongs to you, make sure you are using the same wallet as when you first created that username.\"\n      } else if (!userTaken) {\n        try {\n          const result = await wallet.requestOperation({\n            operationDetails: [\n              {\n                kind: TezosOperationType.TRANSACTION,\n                destination: EXHIBEO_CONTRACT,\n                amount: \"0\",\n                parameters: {\n                  entrypoint: \"default\",\n                  value: {\n                    prim: \"Pair\",\n                    \"args\":\n                      [\n                        {\n                          string: imga\n                        },\n                        {\n                          string: username\n                        }\n                      ]\n                  },\n                },\n              },\n            ],\n          });\n\n          console.log(result);\n          //show link\n          var linka = \"https://exhibeo.xyz/?\" + username\n          //document.getElementById(\"linkforprofile\").setAttribute('href',linka) \n\n          var adiv = document.createElement(\"a\");\n          adiv.href = linka\n          adiv.style = \"text-decoration: underline;\"\n          adiv.innerHTML = \"Link to your profile\"\n          document.getElementById(\"linkforprofile\").appendChild(adiv);\n        } catch (error) {\n          console.log(\n            `The contract call failed and the following error was returned:`\n          );\n          console.log(error);\n        }\n      }\n\n\n    }\n  }\n\n  return (\n    <section\n    >\n      {!walletModalActive && <div className=\"container\">\n        <div className={\n          classNames(\n            bottomDivider && 'has-bottom-divider'\n          )}>\n          {!hideNav &&\n            <div >\n              {!hideSignin &&\n                <div\n                >\n                  <div style={{ paddingTop: \"15px\", paddingBottom: \"15px\", alignItems: \"center\", justifyContent: \"center\", display: \"flex\" }}>\n                    {!walletAddress && <button style={{ display: 'inline-flex', color: 'white', backgroundColor: '#000000', fontWeight: 'light', border: 'solid', borderColor: 'white', borderTop: 'none', borderLeft: \"none\", borderRight: 'none', borderWidth: '2px', float: 'right' }} onClick={connectWallet}>Sign in with wallet to customize</button>}\n                    {walletAddress && <span style={{ display: 'inline-flex', color: 'white', backgroundColor: '#000000', fontWeight: 'light', border: 'solid', borderColor: 'white', borderTop: 'none', borderLeft: \"none\", borderRight: 'none', borderWidth: '2px', float: 'right' }}><button style={{ maxWidth: '200px', fontWeight: 'light', display: 'inline-block', color: 'white', backgroundColor: '#000000', fontWeight: 'light', border: 'solid', borderColor: 'white', borderTop: 'none', borderLeft: \"none\", borderRight: 'none', borderWidth: '2px', float: 'right' }} className=\"button button-primary button-wide-mobile button-sm\" onClick={openModal}><MiddleEllipsis><span>{walletAddress}</span></MiddleEllipsis></button></span>}\n                  </div>\n                </div>}\n            </div>\n          }\n        </div>\n      </div>}\n      {walletModalActive && <div style={{ color: 'white', fontWeight: 'bold', backgroundColor: '#000000', paddingTop: 20, paddingBottom: 12, paddingLeft: 24 }} onClick={closeModal} className=\"container\">\n        <div style={{ textAlign: 'center', paddingTop: 4, paddingBottom: 4, textOverflow: 'ellipsis', overflow: 'hidden', whiteSpace: 'nowrap', }}>Address: {walletAddress}</div>\n        <div style={{ textAlign: 'center', paddingTop: 4, paddingBottom: 4, }}><button style={{ display: 'inline-block', color: 'white', backgroundColor: '#000000', fontWeight: 'light', border: 'solid', borderColor: 'white', borderTop: 'none', borderLeft: \"none\", borderRight: 'none', borderWidth: '2px', }} className=\"button button-primary button-wide-mobile button-sm\" onClick={disconnectWallet} >Logout</button></div>\n\n      </div>}\n      {walletAddress && <div style={{ paddingTop: \"15px\", paddingBottom: \"15px\", alignItems: \"center\", justifyContent: \"center\", display: \"flex\" }}>\n\n\n        <div style={{ textAlign: \"center\" }}>\n          <Styledp onClick={showInstructions} style={{ padding: \"5px\" }}>Enter a username and select the images you wish to display. For more detailed instructions <u>click here</u></Styledp>\n          <div id=\"instructions\" style={{ display: \"none\" }}>\n            <Styledp style={{ padding: \"5px\" }}>STEPS</Styledp>\n            <Styledp style={{ padding: \"5px\" }}><big>1</big>. Sign in with your wallet that contains the NFTs you wish to put in your exhibit</Styledp>\n            <Styledp style={{ padding: \"5px\" }}><big>2</big>. Enter a username. This will be turned into the link for your account</Styledp>\n            <Styledp style={{ padding: \"5px\" }}><big>3</big>. Select images you want to display on your profile. The images will be displayed in the order you select them.</Styledp>\n            <Styledp style={{ padding: \"5px\" }}><big>4</big>. Click save, if the username is taken an error should appear.</Styledp>\n            <Styledp style={{ padding: \"5px\" }}>Due to the data being stored on a smart contract, the saving will take place as a transaction with 0 fees (besides gas + storage if needed).</Styledp></div>\n          <div style={{ paddingTop: \"20px\", paddingBottom: \"20px\" }}>\n            <StyledInput autoComplete=\"off\" id=\"username\"\n              placeholder=\"Username\"\n            />\n          </div>\n          <p id=\"warningtext\" style={{ padding: \"10px\", color: \"red\", fontSize: \"xl\" }}></p>\n          <p><Styledb onClick={saveData} style={{ padding: \"10px\", minWidth: \"100px\" }}>Save</Styledb></p>\n        </div>\n\n      </div>}\n      <div id=\"linkforprofile\" style={{ padding: \"10px\", textAlign: \"center\" }}>\n      </div>\n\n\n      {loading && <div style={{ textAlign: \"center\", color: 'lightblue' }}>Loading images....speed dependent on your internet and nft amount. Please be patient<div style={{ alignItems: \"center\", justifyContent: \"center\", display: \"flex\" }} ><img src={infgif} alt=\"loading...\" /></div></div>}\n      {notloggedin && <div style={{ alignItems: \"center\", justifyContent: \"center\", display: \"flex\" }} ><img src={infgif} alt=\"loading...\" /></div>}\n      <div id='imageGallery2' style={{ visibility: \"hidden\" }} className=\"grid2\">\n        <div className=\"grid-sizer\"></div>\n      </div>\n    </section>\n  );\n}\n\nHero.propTypes = propTypes;\nHero.defaultProps = defaultProps;\n\nexport default Hero;"]},"metadata":{},"sourceType":"module"}